<!doctype html><html class="u-height-80-percent no-js" lang="en" prefix="og: http://ogp.me/ns#"><head><meta charset="utf-8"><title>The need for speed - Part 2 - Kelstra Technologies</title><meta name="description" content="Shrink your web page by minifying its files."><meta name="viewport" content="width=device-width,initial-scale=1"><meta property="og:locale" content="en_GB"><meta property="og:site_name" content="Kelstra Technologies"><meta property="og:title" content="The need for speed - Part 2"><link rel="canonical" href="https://www.kelstra.com/blog/the-need-for-speed-2/"><meta property="og:url" content="https://www.kelstra.com/blog/the-need-for-speed-2/"><meta property="og:description" content="Shrink your web page by minifying its files."><meta name="twitter:site" content="@KelstraTech"><meta name="twitter:title" content="The need for speed - Part 2"><meta name="twitter:description" content="Shrink your web page by minifying its files."><meta name="twitter:url" content="https://www.kelstra.com/blog/the-need-for-speed-2/"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://www.kelstra.com/blog/images/the-need-for-speed/teaser.8957b9553ed8aa44.jpg"><meta name="twitter:creator" content="@KelstraTech"><meta property="article:publisher" content="https://www.facebook.com/Kelstra-Technologies-872038702897666/"><meta property="og:image" content="https://www.kelstra.com/blog/images/the-need-for-speed/teaser.8957b9553ed8aa44.jpg"><meta property="og:image:width" content="600"><meta property="og:image:height" content="315"><meta property="og:type" content="article"><meta property="article:published_time" content="2016-10-20T00:00:00+03:00"><!--[if lt IE 9]><link rel="stylesheet" href="/blog/assets/css/blog-old-ie.min.73a5b28fae75cba1.css" media="screen"><script>window.html5 = {'shivCSS': false, 'shivMethods': false};</script><script src="/assets/js/vendor/html5shiv/html5shiv.min.40bd440d29b3a937.js"></script><![endif]--><!--[if gt IE 8]><!--><link rel="stylesheet" href="/blog/assets/css/blog.min.3d0ad28b6fe8f86a.css" media="screen"><!--<![endif]--><link rel="icon" href="/favicon.png"><link rel="apple-touch-icon" href="/apple-touch-icon.png"></head><body class="u-height-full u-pad-top-0"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-NBW6FZ" height="0" width="0" class="u-hide"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NBW6FZ');</script><!--[if lt IE 9]><div class="outdated-browser"><p>Your web browser is <strong>outdated</strong>. As a result, this website may not display or function correctly. Please <a href="http://outdatedbrowser.com/en">upgrade your browser</a> to improve your experience.</p></div><![endif]--><header role="banner"><div id="top"><div id="main-nav" class="nav nav--main u-cf"><a href="/" class="site-logo">Kelstra<span> Technologies</span></a> <a id="fallback-nav-open-btn" class="nav__btn nav__btn--open-fallback" href="#fallback-nav">Skip to fallback navigation</a> <a id="nav-open-btn" class="nav__btn nav__btn--open" href="#nav">Site navigation</a><nav role="navigation"><div id="nav"><a id="nav-close-btn" class="nav__btn nav__btn--close" href="#top">Return to content</a><ul class="nav__list nav--main__list"><li><a href="/">Home</a></li><li><a href="/#about">About</a></li><li><a href="/#work">Work</a></li><li><a href="/blog/" class="is-highlighted">Blog</a></li><li><a href="/contact.html">Contact</a></li></ul></div></nav></div></div></header><div class="page__hero"><img src="/blog/images/the-need-for-speed/header.9f9798f204df7371.jpg" alt="The need for speed - Part 2" class="page__hero-image"></div><div class="o-container o-container--1366-no-pad"><main role="main"><div class="sidebar"><div class="sidebar__wrapper"><div itemscope itemtype="http://schema.org/Person"><div class="author__content"><h3 class="author__name">George Okello</h3><p class="author__bio">Web Developer</p></div><div class="author__urls-wrapper"><ul class="author__urls social-icons"><li><i class="fa fa-fw fa-map-marker" aria-hidden="true"></i> Nairobi, Kenya</li><li><a href="https://www.kelstra.com/"><i class="fa fa-fw fa-chain" aria-hidden="true"></i> Website</a></li><li><a href="https://www.kelstra.com/contact.html"><i class="fa fa-fw fa-envelope-square" aria-hidden="true"></i> Email</a></li><li><a href="https://twitter.com/KelstraTech"><i class="fa fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li></ul></div></div></div></div><div class="page__article"><article itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="headline" content="The need for speed - Part 2"><meta itemprop="description" content="Shrink your web page by minifying its files."><meta itemprop="datePublished" content="October 20, 2016"><header><h1 class="page__title" itemprop="headline">The need for speed - Part 2</h1><p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 3 minute read</p></header><section itemprop="text"><div class="page__content"><p>In <a href="http://www.kelstra.com/blog/the-need-for-speed/">Part 1</a>, we looked at server side compression and how it can reduce the overall size of a web page. The web page can be further optimised by minification, a process whereby all unnecessary characters are stripped from a file.</p><p>Let’s look at an example:</p><div class="highlighter-rouge"><pre class="highlight"><code>
<span class="cp">&lt;!doctype html&gt;</span>

<span class="nt">&lt;html</span> <span class="na">class=</span><span class="s">"no-js"</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"utf-8"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;title&gt;</span>Minification<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"viewport"</span> <span class="na">content=</span><span class="s">"width=device-width, initial-scale=1"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="c">&lt;!-- Add your site or application content here --&gt;</span>
    <span class="nt">&lt;p&gt;</span>This is an article about minification.<span class="nt">&lt;/p&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>

</code></pre></div><div class="caption">Figure 1: Unminified code</div><p>The code in <em>Figure 1</em> is indented and split across several lines. Much like the sentences and paragraphs in an article, this is done to increase legibility. This is useful during development, when the developer is writing the code. However, since the code is not seen by the users who view the web page, code readability is of little importance to them. Armed with this knowledge, we can confidently minify our files before deployment.</p><p>The code above is 329 bytes in length. What can be stripped? Each of the 13 lines, with the exception of the last line, contains an invisible character that marks the end of line ( EOL ). That’s 12 EOL characters, totalling 12 bytes. 329 - 12 = 317 bytes.</p><p>There are 28 indentation spaces, totalling 28 bytes. 317 - 28 = 289 bytes.</p><p>The start and end of a comment are marked by the opening and closing tags, &lt;!– –&gt;<br>Since comments are not visible when a web page is viewed, they can safely be stripped. Line 10 is a comment, 50 bytes in length. 289 - 50 = 239 bytes.</p><p>Our code now looks this:</p><div class="highlighter-rouge"><pre class="highlight"><code>
<span class="cp">&lt;!doctype html&gt;</span><span class="nt">&lt;html</span> <span class="na">class=</span><span class="s">"no-js"</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;&lt;head&gt;&lt;meta</span> <span class="na">charset=</span><span class="s">"utf-8"</span><span class="nt">&gt;&lt;title&gt;</span>Minification<span class="nt">&lt;/title&gt;&lt;meta</span> <span class="na">name=</span><span class="s">"viewport"</span> <span class="na">content=</span><span class="s">"width=device-width, initial-scale=1"</span><span class="nt">&gt;&lt;/head&gt;&lt;body&gt;&lt;p&gt;</span>This is an article about minification.<span class="nt">&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;</span>

</code></pre></div><div class="caption">Figure 2: Minified code</div><p>The code is now 239 bytes in length, down from 329 bytes. A 27.36% reduction.</p><p><em>Figure 3</em> shows the effect of minification on a web page. The test setup was introduced in <a href="http://www.kelstra.com/blog/the-need-for-speed/">Part 1</a>. Google Chrome’s Developer Tools, bandwidth throttled to <em>Regular 3G</em>.</p><p>* fontfaceobserver.min.js is already minified, hence the .min extension in its name.</p><table><thead><tr><th></th><th>Unminified</th><th>Minified</th><th>Reduction</th></tr></thead><tbody><tr><td>kelstra.shtml</td><td>5.7KB</td><td>4.7KB</td><td>17.54%</td></tr><tr><td>site.css</td><td>43.7KB</td><td>27.2KB</td><td>37.76%</td></tr><tr><td>fontfaceobserver.min.js*</td><td>5.7KB</td><td>5.7KB</td><td>0%</td></tr><tr><td>modernizr.js</td><td>9.1KB</td><td>2.0KB</td><td>78.02%</td></tr><tr><td>main.js</td><td>4.7KB</td><td>2.1KB</td><td>55.32%</td></tr><tr><td>debug.js</td><td>1.6KB</td><td>0.7KB</td><td>56.25%</td></tr><tr><td>site-logo.svg</td><td>1.7KB</td><td>1.1KB</td><td>35.29%</td></tr><tr><td><strong>Web page</strong></td><td>173KB</td><td>145KB</td><td><strong>16.19%</strong></td></tr></tbody></table><div class="caption">Figure 3: File size comparison</div><table><thead><tr><th></th><th>Unminified</th><th>Minified</th><th>Reduction</th></tr></thead><tbody><tr><td><strong>Web page</strong></td><td>2.32s</td><td>1.99s</td><td><strong>14.22%</strong></td></tr></tbody></table><div class="caption">Figure 4: Load time comparison</div><p>Minification results in a web page that is 16.19% smaller, and loads 14.22% more quickly.</p><h2>Tools</h2><p>I use <a href="http://gruntjs.com/">Grunt</a>, an offline build tool that automates a lot of web development tasks. It is quicker and less error prone than doing things manually.</p><p>The following Grunt plugins handle the minification of specific file types:</p><p><a href="https://github.com/gruntjs/grunt-contrib-htmlmin">grunt-contrib-htmlmin</a> - HTML files, .html .shtml</p><p><a href="https://github.com/gruntjs/grunt-contrib-sass">grunt-contrib-sass</a> - CSS files, .css</p><p><a href="https://github.com/gruntjs/grunt-contrib-uglify">grunt-contrib-uglify</a> - JavaScript files, .js</p><p><a href="https://github.com/sindresorhus/grunt-svgmin">grunt-svgmin</a> - SVG files, .svg</p></div></section><footer class="page__meta"><p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Updated:</strong> <time datetime="2016-10-20T00:00:00+03:00">October 20, 2016</time></p></footer><div class="page__hire"><a href="/contact.html" class="page__hire-button">Enjoyed this article? Hire me!</a></div><section class="page__share"><h4 class="page__share-title">Share on</h4><a href="https://twitter.com/intent/tweet?text=https://www.kelstra.com/blog/the-need-for-speed-2/" class="btn btn--twitter" title="Share on Twitter"><i class="fa fa-fw fa-twitter" aria-hidden="true"></i><span>Twitter</span></a> <a href="https://www.facebook.com/sharer/sharer.php?u=https://www.kelstra.com/blog/the-need-for-speed-2/" class="btn btn--facebook" title="Share on Facebook"><i class="fa fa-fw fa-facebook" aria-hidden="true"></i><span>Facebook</span></a> <a href="https://plus.google.com/share?url=https://www.kelstra.com/blog/the-need-for-speed-2/" class="btn btn--google-plus" title="Share on Google Plus"><i class="fa fa-fw fa-google-plus" aria-hidden="true"></i><span>Google+</span></a> <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://www.kelstra.com/blog/the-need-for-speed-2/" class="btn btn--linkedin" title="Share on LinkedIn"><i class="fa fa-fw fa-linkedin" aria-hidden="true"></i><span>LinkedIn</span></a></section><nav class="pagination"><a href="https://www.kelstra.com/blog/the-need-for-speed/" class="pagination--pager" title="The need for speed - Part 1
">Previous</a> <a href="#" class="pagination--pager disabled">Next</a></nav></article><div class="page__related"><h4 class="page__related-title">You May Also Enjoy</h4><div class="grid__wrapper"><div class="grid__item"><article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork"><div class="archive__item-teaser"><img src="/blog/images/the-need-for-speed/teaser.8957b9553ed8aa44.jpg" alt=""></div><h2 class="archive__item-title" itemprop="headline"><a href="https://www.kelstra.com/blog/the-need-for-speed/" rel="permalink">The need for speed - Part 1</a></h2><p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 4 minute read</p><p class="archive__item-excerpt" itemprop="description">Speed up your website by enabling server side compression.</p></article></div></div></div></div></main></div><div class="page__footer"><div class="o-container o-container--1366-no-pad"><footer><div class="page__footer-follow"><ul class="social-icons"><li><strong>Follow:</strong></li><li><a href="https://twitter.com/KelstraTech"><i class="fa fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li></ul></div><div class="page__footer-credits"><a href="/blog/credits">Credits</a></div><div class="page__footer-copyright">Copyright &copy; 2020 Kelstra Technologies.</div></footer></div></div><script src="/blog/assets/js/blog.min.a86612965f70e368.js" defer="defer"></script><!--[if lt IE 9]><script src="/blog/assets/js/blog-old-ie.min.7721d9002ea1e560.js"></script><![endif]--></body></html>